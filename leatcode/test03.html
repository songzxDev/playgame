<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>leetcode-test-03</title>
</head>
<body>
<script>
    /**
     * 784.字母大小写全排列
     * @param {string} S
     * @return {string[]}
     */
    const letterCasePermutation = function (S) {
        if (S.length === 0) return [];
        let res = new Set();
        res.add(S);
        let execRes = (index) => {
            if (index === S.length) return;
            res.forEach(function (value) {
                let s = value.charAt(index);
                if (/[a-zA-Z]/g.test(s)) { // 字母
                    res.add(value);
                    let temp = value.split('');
                    temp[index] = String.fromCharCode(s.charCodeAt(0) ^ (1 << 5));
                    res.add(temp.join(''));
                } else { // 数字

                }
            });
            execRes(index + 1);
        };

        execRes(0);
        return Array.from(res);
    };

    /**
     * 1051. 高度检查器
     * @param {number[]} heights
     * @return {number}
     */
    const heightChecker = function (heights) {
        // TODO: 通过对另一个数组进行排序来建立正确的高度顺序，然后比较两个数组
        let copy = Array.from(heights);
        copy.sort(function (a, b) {
            return a - b;
        });
        let res = 0;
        for (let i = 0; i < heights.length; i++) {
            if (heights[i] !== copy[i]) res += 1;
        }
        return res;
    };

    /**
     * 925.长按键入
     * @param {string} name
     * @param {string} typed
     * @return {boolean}
     */
    const isLongPressedName = function (name, typed) {
        if (typed.length < name.length || name.charAt(0) !== typed.charAt(0)) return false;
        let j = 0;
        for (let c of name) {
            if (typed.charAt(j) !== c) {
                if (j === 0 || typed.charAt(j - 1) !== typed.charAt(j)) return false;
                let curr = `${typed.charAt(j)}`;
                while (j < typed.length && typed.charAt(j) === curr) j++;
                if (j === typed.length || typed.charAt(j) !== c) return false;
            }
            j++;
        }
        return true;
    };

    function ListNode(val) {
        this.val = val;
        this.next = null;
    }

    /**
     * 237.删除链表中的节点
     * @param {ListNode} node
     * @return {void} Do not return anything, modify node in-place instead.
     */
    const deleteNode = function (node) {
        Object.assign(node, node.next);
    };

    /**
     * 905.按奇数偶数排序数组
     * @param {number[]} A
     * @return {number[]}
     */
    const sortArrayByParity = function (A) {
        if (A.length <= 1) return A;
        let [i, j] = [0, A.length - 1];
        while (i < j) {
            if (A[i] % 2 > A[j] % 2) {
                [A[i], A[j],] = [A[j], A[i],];
            }
            if (A[i] % 2 === 0) {
                i++;
            }
            if (A[j] % 2 === 1) {
                j--;
            }
        }
        return A;
    };

    /**
     * 22.括号生成
     * @param {number} n
     * @return {string[]}
     */
    const generateParenthesis = function (n) {
        let backtrack = (ans, cur, open, close, max) => {
            if (cur.length === max * 2) {
                ans.push(cur);
                return;
            }
            if (open < max) {
                backtrack(ans, cur.concat('('), open + 1, close, max);
            }
            if (close < open) {
                backtrack(ans, cur.concat(')'), open, close + 1, max);
            }
        };
        let ans = [];
        backtrack(ans, "", 0, 0, n);
        return ans;
    };

    /**
     * 1108.IP 地址无效化
     * @param {string} address
     * @return {string}
     */
    const defangIPaddr = function(address) {
        return address.split('.').join('[.]');
    };

    /**
     * 461.汉明距离
     * @param {number} x
     * @param {number} y
     * @return {number}
     */
    const hammingDistance = function(x, y) {
        // 将两个给定的数进行 异或(^)运算后保存在变量a，汉明距离就是a的二进制中1的个数
        let a = x^y;
        return a.toString(2).replace(/0/g, '').length;
    };

    /**
     * 476.数字的补数
     * @param {number} num
     * @return {number}
     */
    const findComplement = function (num) {
        let i = 1;
        let numTemp = num;
        while (num !== 1) {
            num = (num / 2) | 0;
            i++;
        }
        let temp = Math.pow(2, i) - 1;
        return numTemp ^ temp;
    };
</script>
</body>
</html>