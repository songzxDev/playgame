<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event 事件学习</title>
    <style>
        div#app {
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 0 100px 100px;
            border-color: transparent transparent #1b7cdd transparent;
            display: inline-block;
        }

    </style>
</head>
<body>
<div id="app">

</div>
<script>

    let app = document.getElementById('app');
    let contexts = Object.create(null);
    let [x, y] = [0, 0];
    app.addEventListener('touchstart', function (event) {
        for (let touch of event.changedTouches) {
            contexts[touch.identifier] = Object.create(null);
            contexts[touch.identifier].startX = touch.clientX;
            contexts[touch.identifier].startY = touch.clientY;
        }
    });
    app.addEventListener('touchmove', function (event) {
        for (let touch of event.changedTouches) {
            let context = contexts[touch.identifier];
            let [dx, dy] = [touch.clientX - context.startX, touch.clientY - context.startY];
            app.style.transform = `translate(${dx + x}px,${dy + y}px)`;
        }

    });

    app.addEventListener('touchend', function (event) {
        for (let touch of event.changedTouches) {
            let context = contexts[touch.identifier];
            let [dx, dy] = [touch.clientX - context.startX, touch.clientY - context.startY];
            [x, y] = [x + dx, y + dy];
            delete contexts[touch.identifier];
        }

    })
</script>
</body>
</html>